<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
      <link rel="stylesheet" href="./assets/css/style.css" />
      <link rel="stylesheet" href="./assets/css/order.css" />
   </head>
   <body>
      <section class="hero-container">
         <section class="full-body" id="hero">
            <header class="navbar">
               <img src="./assets/img/logo.svg" alt="Logo" width="45px" id="logo" />
               <div class="links">
                  <ul class="nav-links sidebar" id="sidebar">
                     <li>
                        <a href="./index.html">Home</a>
                     </li>
                     <li>
                        <a href="#">About</a>
                     </li>
                     <li>
                        <a href="#">Services</a>
                     </li>
                     <li>
                        <a href="./order.html">Order</a>
                     </li>
                     <li>
                        <a href="#">Blog</a>
                     </li>
                     <li>
                        <a href="#">Contact</a>
                     </li>
                  </ul>
                  <a href="./track.html" id="track">TRACK</a>
               </div>
            </header>
            <div class="details-layout">
               <form method="post" action="" name="formDetail" id="myForm">
                  <div class="details">
                     <h1 class="order-head">Enter Sender address and the recipient's address.</h1>
                     <div class="input-details">
                        <div class="sender-details">
                           <div class="form">
                              <h2>Sender info</h2>
                              <div>
                                 <label for="sdr-name"> Your name:</label>
                                 <input type="text" id="name" name="Name" required />
                              </div>
                              <div>
                                 <label for="sdr-address"> Address:</label>
                                 <input type="text" id="sdr-address" name="Address" required />
                              </div>
                              <div>
                                 <label for="sdr-email"> Email:</label>
                                 <input type="email" id="sdr-email" name="Email" required />
                              </div>
                              <div>
                                 <label for="sdr-number"> Phone:</label>
                                 <input type="text" id="sdr-number" name="Number" required />
                              </div>
                           </div>
                        </div>
                        <div class="receiver-details">
                           <div class="form">
                              <h2>Recipient's info</h2>
                              <div>
                                 <label for="sdr-name"> Receiver name:</label>
                                 <input type="text" id="rcvr-name" name="Recipient's Name" required />
                              </div>
                              <div>
                                 <label for="sdr-address"> Address:</label>
                                 <input type="text" id="rcvr-address" name="Recipient's Address" required />
                              </div>
                              <div>
                                 <label for="sdr-email"> Email:</label>
                                 <input type="email" id="rcvr-email" name="Recipient's Email" required />
                              </div>
                              <div>
                                 <label for="sdr-number"> Phone:</label>
                                 <input type="text" id="rcvr-number" name="Recipient's Number" required />
                              </div>
                           </div>
                        </div>
                     </div>
                     <span><p id="orderNumberDisplay" style="color: white; font-size: 35px"></p></span>
                     <button id="submit">SUBMIT</button>
                  </div>
               </form>
            </div>
         </section>
      </section>
      <script>
         const scriptURL = "https://script.google.com/macros/s/AKfycbyDOVYd2TDMBOnfXUiokIcAUeLdnR8qDCqfHcElz1PM4lZ3hkqWgbyPd1II80iG75cZ/exec";
         const form = document.forms["formDetail"];

         form.addEventListener("submit", (e) => {
            e.preventDefault();
            fetch(scriptURL, {
               method: "POST",
               body: new FormData(form),
            })
               .then((response) => {
                  if (response.ok) {
                     window.location.href = "ThankOrder.html"; // Redirect on success
                     setTimeout(function () {
                        form.reset(); // This will clear all input fields in the form
                     }, 5000);
                  } else {
                     console.error("Error!", response.status, response.statusText);
                  }
               })
               .catch((error) => console.error("Error!", error.message));
         });
      </script>
   </body>
</html>
